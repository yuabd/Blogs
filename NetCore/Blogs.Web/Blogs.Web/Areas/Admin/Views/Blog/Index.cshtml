
@{
	ViewData["Title"] = "Index";
}

@model Blogs.Web.Models.Paginated<Blogs.Model.DbModels.Blog>

<h2>博客文章</h2>

<p>
	<a href="/Admin/Blog/Add" id="add" class="button-add">添加文章</a>
</p>
<form action="/Admin/Blog/Index">
	@Html.AntiForgeryToken()
	<fieldset>
		<legend>查询</legend>
		关键词:<input type="text" name="keywords" value="@ViewBag.keywords" />
		<button>查询</button>
	</fieldset>
</form>
<table class="grid">
	<tr>
		<th>
			#
		</th>
		@*<th>图片</th>*@
		<th>
			标题
		</th>
		<th>
			作者
		</th>
		<th>
			激活?
		</th>
		<th>
			评论
		</th>
		<th>
			访问量
		</th>
		<th>
		</th>
	</tr>

	@foreach (var item in Model)
	{
		<tr>
			<td>
				@item.BlogID
			</td>
			@*<td>
				<img src="@item.PictureFolder/@item.PictureThumbnail" style="width:150px;" alt="" />
			</td>*@
			<td style="width:30%">
				<a href="/blog/post/@(item.Slug)" target="_blank">@item.BlogTitle</a>
			</td>
			<td>
				@item.AuthorID<br />
				@String.Format("{0:g}", item.DateCreated)
			</td>
			<td>
				@Html.CheckBox("IsPublic", item.IsPublic, new { disabled = "disabled" })
			</td>
			<td>
				@Html.ActionLink("Comments", "Feedbacks", new { id = item.BlogID })
			</td>
			<td>
				@item.PageVisits
			</td>
			<td class="actions">
				<a href="/Admin/Blog/Edit/@item.BlogID" class="button-edit">编辑</a>
				<a href="/Admin/Blog/Delete/@item.BlogID" class="button-delete delete">删除</a>
			</td>
		</tr>
	}

</table>
@Model.Pager("pager")
